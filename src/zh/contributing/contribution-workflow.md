---
title: è´¡çŒ®æµç¨‹
icon: project-diagram # æˆ–è€… 'sitemap'
order: 4
---

# <Icon icon="project-diagram" /> è´¡çŒ®æµç¨‹

æˆ‘ä»¬ä½¿ç”¨ GitHub Flow ä½œä¸ºä¸»è¦çš„åä½œæ¨¡å¼ã€‚ä»¥ä¸‹æ˜¯å‘ CiliKube è´¡çŒ®ä»£ç çš„æ ‡å‡†æµç¨‹ï¼š

## 1. Fork ä»“åº“

*   è®¿é—® CiliKube çš„ä¸»ä»“åº“ï¼š`https://github.com/ciliverse/cilikube`
*   ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ "Fork" æŒ‰é’®ï¼Œå°†ä¸»ä»“åº“ Fork åˆ°ä½ è‡ªå·±çš„ GitHub è´¦å·ä¸‹ã€‚

## 2. Clone ä½ çš„ Fork

*   å°†ä½  Fork çš„ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼š
    ```bash
    git clone https://github.com/ciliverse/cilikube.git
    cd cilikube
    ```

## 3. æ·»åŠ  Upstream è¿œç¨‹ä»“åº“

*   å°†åŸå§‹çš„ CiliKube ä»“åº“æ·»åŠ ä¸ºä¸€ä¸ªåä¸º `upstream` çš„è¿œç¨‹ä»“åº“ï¼Œä»¥ä¾¿åç»­åŒæ­¥æ›´æ–°ï¼š
    ```bash
    git remote add upstream https://github.com/ciliverse/cilikube.git
    ```
*   éªŒè¯è¿œç¨‹ä»“åº“è®¾ç½®ï¼š
    ```bash
    git remote -v
    # è¾“å‡ºåº”åŒ…å« origin (ä½ çš„ fork) å’Œ upstream (åŸå§‹ä»“åº“)
    ```

## 4. åŒæ­¥æ›´æ–° (å¼€å§‹æ–°å·¥ä½œå‰)

*   åœ¨å¼€å§‹ä»»ä½•æ–°çš„ä¿®æ”¹ä¹‹å‰ï¼Œå…ˆä» `upstream` æ‹‰å–æœ€æ–°çš„ä»£ç ï¼Œç¡®ä¿ä½ çš„æœ¬åœ° `main` (æˆ–ä¸»åˆ†æ”¯) æ˜¯æœ€æ–°çš„ï¼š
    ```bash
    git checkout main # åˆ‡æ¢åˆ° main åˆ†æ”¯
    git fetch upstream # ä» upstream æ‹‰å–æœ€æ–°ä¿¡æ¯
    git merge upstream/main # å°† upstream/main åˆå¹¶åˆ°ä½ çš„æœ¬åœ° main
    # æˆ–è€…ä½¿ç”¨ rebase (å¦‚æœä½ åå¥½çº¿æ€§å†å²)
    # git rebase upstream/main
    git push origin main # (å¯é€‰) æ›´æ–°ä½  Fork ä»“åº“çš„ main åˆ†æ”¯
    ```

## 5. åˆ›å»ºç‰¹æ€§åˆ†æ”¯

*   åŸºäºæœ€æ–°çš„ `main` åˆ†æ”¯ï¼Œä¸ºä½ çš„ä¿®æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„ã€å…·æœ‰æè¿°æ€§çš„åˆ†æ”¯ï¼š
    ```bash
    git checkout -b feature/describe-your-feature # ä¾‹å¦‚: feature/add-node-taint-editing
    # æˆ–è€…ä¿®å¤ Bug:
    # git checkout -b fix/fix-pod-log-streaming-issue
    ```
    *   åˆ†æ”¯å‘½åå»ºè®®ï¼š`feature/` ç”¨äºæ–°åŠŸèƒ½ï¼Œ`fix/` ç”¨äº Bug ä¿®å¤ï¼Œ`docs/` ç”¨äºæ–‡æ¡£ä¿®æ”¹ç­‰ã€‚

## 6. è¿›è¡Œä¿®æ”¹å’Œå¼€å‘

*   åœ¨ä½ çš„ç‰¹æ€§åˆ†æ”¯ä¸Šè¿›è¡Œä»£ç ä¿®æ”¹ã€æ·»åŠ æ–°åŠŸèƒ½æˆ–ä¿®å¤ Bugã€‚
*   ç¡®ä¿ä½ çš„ä¿®æ”¹ç¬¦åˆ [ä»£ç é£æ ¼æŒ‡å—](./code-style-guide.md)ã€‚
*   ç¼–å†™å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹ï¼ˆå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼‰ã€‚
*   ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`go test ./...`, `pnpm test` ç­‰)ã€‚
*   ç¡®ä¿ä»£ç æ£€æŸ¥é€šè¿‡ (`golangci-lint run ./...`, `pnpm lint`)ã€‚

## 7. æäº¤ä½ çš„ä¿®æ”¹

*   å°†ä½ çš„ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼š
    ```bash
    git add <ä¿®æ”¹çš„æ–‡ä»¶>
    # æˆ–è€… git add .
    ```
*   ä½¿ç”¨éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒçš„æäº¤ä¿¡æ¯è¿›è¡Œæäº¤ï¼š
    ```bash
    git commit -m "feat(frontend): add taint editing modal to node details"
    ```
    *   å¦‚æœæœ‰å¤šæ¡ä¿®æ”¹ï¼Œè¿›è¡ŒåŸå­æ€§çš„æäº¤ï¼ˆä¸€ä¸ªæäº¤è§£å†³ä¸€ä¸ªç‹¬ç«‹çš„é—®é¢˜ï¼‰ã€‚

## 8. æ¨é€ä½ çš„åˆ†æ”¯åˆ° GitHub

*   å°†ä½ çš„æœ¬åœ°ç‰¹æ€§åˆ†æ”¯æ¨é€åˆ°ä½ çš„ GitHub Fork ä»“åº“ï¼š
    ```bash
    git push origin feature/describe-your-feature
    ```

## 9. åˆ›å»º Pull Request (PR)

*   æ‰“å¼€ä½ çš„ GitHub Fork ä»“åº“é¡µé¢ (`https://github.com/[ä½ çš„ç”¨æˆ·å]/cilikube`)ã€‚
*   GitHub é€šå¸¸ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°ä½ æ¨é€çš„æ–°åˆ†æ”¯ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ª "Compare & pull request" çš„æŒ‰é’®ï¼Œç‚¹å‡»å®ƒã€‚
*   æˆ–è€…ï¼Œåˆ‡æ¢åˆ°ä½ çš„ç‰¹æ€§åˆ†æ”¯ï¼Œç‚¹å‡» "Pull request" æŒ‰é’®ã€‚
*   **é€‰æ‹©åŸºå‡†åˆ†æ”¯:** ç¡®ä¿ Base repository æ˜¯ `[é¡¹ç›®ç»„ç»‡æˆ–æ‰€æœ‰è€…]/cilikube`ï¼ŒBase branch æ˜¯ `main` (æˆ–é¡¹ç›®çš„ä¸»åˆ†æ”¯)ã€‚Head repository æ˜¯ä½ çš„ Forkï¼ŒCompare branch æ˜¯ä½ åˆšæ‰æ¨é€çš„ç‰¹æ€§åˆ†æ”¯ã€‚
*   **å¡«å†™ PR ä¿¡æ¯:**
    *   **æ ‡é¢˜:** ä½¿ç”¨æ¸…æ™°ã€ç®€æ´çš„æ ‡é¢˜ï¼Œæœ€å¥½ä¹Ÿéµå¾ª Conventional Commits çš„ subject éƒ¨åˆ†ã€‚
    *   **æè¿°:**
        *   æ¸…æ™°åœ°æè¿°ä½ åšäº†ä»€ä¹ˆä¿®æ”¹ã€‚
        *   è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¿®æ”¹ï¼ˆè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå®ç°äº†ä»€ä¹ˆåŠŸèƒ½ï¼Ÿï¼‰ã€‚
        *   å¦‚æœå…³è”äº†æŸä¸ª GitHub Issueï¼Œä½¿ç”¨ `Closes #[Issueç¼–å·]` æˆ– `Fixes #[Issueç¼–å·]` é“¾æ¥åˆ°å®ƒã€‚
        *   (å¯é€‰) æä¾›æˆªå›¾æˆ– GIF å±•ç¤º UI å˜æ›´ã€‚
*   ç‚¹å‡» "Create pull request"ã€‚

## 10. ä»£ç å®¡æŸ¥å’Œè®¨è®º

*   é¡¹ç›®ç»´æŠ¤è€…æˆ–å…¶ä»–è´¡çŒ®è€…ä¼šå¯¹ä½ çš„ PR è¿›è¡Œå®¡æŸ¥ã€‚
*   ä»–ä»¬å¯èƒ½ä¼šæå‡ºé—®é¢˜ã€å»ºè®®ä¿®æ”¹æˆ–è¯·æ±‚æ›´å¤šä¿¡æ¯ã€‚è¯·åŠæ—¶å›åº”å®¡æŸ¥æ„è§ã€‚
*   å¦‚æœéœ€è¦ä¿®æ”¹ä»£ç ï¼Œç›´æ¥åœ¨ä½ æœ¬åœ°çš„ç‰¹æ€§åˆ†æ”¯ä¸Šä¿®æ”¹ã€æäº¤ï¼Œå¹¶å†æ¬¡æ¨é€åˆ°ä½ çš„ Fork (`git push origin feature/describe-your-feature`)ã€‚PR ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

## 11. åˆå¹¶ PR

*   ä¸€æ—¦ä½ çš„ PR é€šè¿‡å®¡æŸ¥å¹¶ä¸”æ‰€æœ‰æ£€æŸ¥ï¼ˆCI æµ‹è¯•ç­‰ï¼‰éƒ½é€šè¿‡ï¼Œé¡¹ç›®ç»´æŠ¤è€…ä¼šå°†ä½ çš„ PR åˆå¹¶åˆ°ä¸»ä»“åº“çš„ `main` åˆ†æ”¯ã€‚
*   æ­å–œï¼ä½ çš„è´¡çŒ®å·²ç»æˆä¸º CiliKube çš„ä¸€éƒ¨åˆ†ï¼ğŸ‰

## 12. æ¸…ç† (å¯é€‰)

*   PR åˆå¹¶åï¼Œä½ å¯ä»¥åˆ é™¤ä½ çš„æœ¬åœ°ç‰¹æ€§åˆ†æ”¯å’Œ GitHub Fork ä¸Šçš„ç‰¹æ€§åˆ†æ”¯ï¼š
    ```bash
    git checkout main # åˆ‡æ¢å› main åˆ†æ”¯
    git pull upstream main # ç¡®ä¿æœ¬åœ° main æ˜¯æœ€æ–°çš„ (åŒ…å«ä½ çš„åˆå¹¶)
    git branch -d feature/describe-your-feature # åˆ é™¤æœ¬åœ°åˆ†æ”¯
    # åœ¨ GitHub ä½ çš„ Fork é¡µé¢åˆ é™¤è¿œç¨‹åˆ†æ”¯
    ```

æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼

